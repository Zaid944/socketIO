<!DOCTYPE html>
<html>
    <head>
        <meta name="viewport" content="width=device-width,initial-scale=1.0" />
        <title>Socket.IO chat</title>
    </head>
    <body>
        <textarea id="input"></textarea>
        <button id="btn">Click Me</button>
    </body>
    <script src="/socket.io/socket.io.js"></script>

    <script>
        const socket = io();
        console.log("yayyy");
        const button = document.getElementById("btn");
        button.addEventListener("click", clickAction);

        function clickAction(e) {
            console.log(e);
            console.log("clicked");
        }

        function callBackend(e) {
            console.log("entered");
            console.log(e);
            console.log(e.target.value);
            socket.emit("event", e.target.value);
        }

        // const form = document.getElementById("form");
        const input = document.getElementById("input");
        input.addEventListener("keypress", callBackend);

        socket.on("event2", (msg) => {
            console.log("msg broadcasted is: ", msg);
            input.value = msg;
            console.log(input);
        });
        // const messages = document.getElementById("messages");

        // // console.log(form);

        // form.addEventListener("submit", (e) => {
        //     e.preventDefault();
        //     if (input.value) {
        //         socket.emit("chat message", input.value);
        //         input.value = "";
        //     }
        // });

        // socket.on("chat message", (msg) => {
        //     const item = document.createElement("li");
        //     item.textContent = msg;
        //     messages.appendChild(item);
        //     window.scrollTo(0, document.body.scrollHeight);
        // });

        // socket.on("hi", (msg) => {
        //     console.log("broadcasted msg");
        // });
    </script>
</html>
